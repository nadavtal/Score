// @import "compass/css3";

// Colors

$gray: #232323;
$primary: #00B6E9;
$secondary: #C41564;

// Fonts

$sans: 'Source Sans Pro';

// Button Sizes

$btnH: 2rem;
$btnD: 4rem;
$btnW: 100%;


  // Base Button Styles
  
  .button,
  [class*='button-']{
    
    display: inline-block;
    // padding: 1rem 2rem;
    color: $gray;
    
    text: {
      transform: lowercase;
      decoration: none;
      align: left;
    }
    transition: 0.5s linear all;
    
    
  }
  
  // Download Button
  
  .download-wrap{
      perspective: 80rem;
    perspective-origin: 50% 50% 0;
    width: 100%; 
    height: 100%;
    
    // margin: -2rem;
   
  }
  
  .download{
    position: relative;
    width: $btnW; 
    height: 100%;
    transform-style: preserve-3d;
    transform-origin: 50% 50% 0;
    transform: rotateX(0deg);
    transition: 0.2s linear all;
    margin: 0 auto;
    // overflow: hidden;
    &.is-active{
      transform: rotateX(90deg) translateZ($btnH/2);
      
      .meter-progress-meter{
        right: 0%;
      }
      .meter-progress-download{
        right: 100%;
      }
    }

    .meter-progress-download{
      display: block;
      width: 100%;
      position: absolute;
      right: 0; 
      top: 0; 
      bottom: 0;
      background-image: linear-gradient(-45deg,
          rgba(black, 0.15) 10%, rgba(black, 0.2) 10%,
          rgba(black, 0.2) 20%, rgba(black, 0.15) 20%,
          rgba(black, 0.15) 30%, rgba(black, 0.2) 30%,
          rgba(black, 0.2) 40%, rgba(black, 0.15) 40%,
          rgba(black, 0.15) 50%, rgba(black, 0.2) 50%,
          rgba(black, 0.2) 60%, rgba(black, 0.15) 60%,
          rgba(black, 0.15) 70%, rgba(black, 0.2) 70%,
          rgba(black, 0.2) 80%, rgba(black, 0.15) 80%,
          rgba(black, 0.15) 90%, rgba(black, 0.2) 90%,
          rgba(black, 0.2)
      );
      transition: 1s linear all;
    }
  }

  .actionNamewrapper{
    // position: relative;
    height: 100%;
    width: 75%;
    float: left;
  }

  .actionName{
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    
    
    color: rgba(white, 0.5);
    animation: white-pulse 1s infinite alternate;
  }

 
  
  .button-download,
  .meter{
    position: relative;
    width: 100%; 
    height: 100%;
    display:flex;
    overflow: hidden;
    transform-origin: top center;
  }
  
  // Meter
  
  .meter{
    // background: $secondary;
    overflow: hidden;
    transform: rotateX(270deg);
    
    // &:before,
    // &:after{
    //   display: block;
    //   text-align: center;
    //   color: rgba(white, 0.5);
      
    // }
  
    // &:before{
    //   content: 'downloading...';
      
    // }
        
    // &:after{
    //   content: 'done!';
    //   display: none;
    //   color: #fff;
    // }
        
    // &.is-done{
    //   &:before{ display: none; }
    //   &:after{ display: block;}
    // }
    
    .meter-progress-meter{
      display: block;
      width: 100%;
      position: absolute;
      right: 100%; 
      top: 0; 
      bottom: 0;
      background-image: linear-gradient(-45deg,
          rgba(black, 0.15) 10%, rgba(black, 0.2) 10%,
          rgba(black, 0.2) 20%, rgba(black, 0.15) 20%,
          rgba(black, 0.15) 30%, rgba(black, 0.2) 30%,
          rgba(black, 0.2) 40%, rgba(black, 0.15) 40%,
          rgba(black, 0.15) 50%, rgba(black, 0.2) 50%,
          rgba(black, 0.2) 60%, rgba(black, 0.15) 60%,
          rgba(black, 0.15) 70%, rgba(black, 0.2) 70%,
          rgba(black, 0.2) 80%, rgba(black, 0.15) 80%,
          rgba(black, 0.15) 90%, rgba(black, 0.2) 90%,
          rgba(black, 0.2)
      );
      transition: 1s linear all;
    }
  }

  .small{
    font-size: 1rem;
  }
  .med{
    font-size: 2rem;
  }

 
  
  // Download Icon
  
  .icon-wrap{
    position: absolute;
    right: 0rem; 
    top: 0; 
    bottom: 0;
    width: 25%;
    text-align: center;
    
    background: rgba(black, 0.1);
  }
  
  .icon-download{
    // position: relative;
    display: block;
    width: 100%; 
    // height: 1rem;
    margin: auto;
    // border: solid 0.5rem $gray;
    border-top: none;
    animation: icon-bounce .5s infinite alternate;
    
  }
  
  // Animations
  
  @keyframes icon-bounce {
    from {
      transform: translate(-50%, -50%);
    }
    
    to {
      transform: translate(-50%, -45%);
    }
  }
  
  @keyframes white-pulse {
    from {
      color: rgba(white, 0.2);
    }
    
    to {
      color: rgba(white, 0.8);
    }
  }